var responseObject,commentID=1;function time(){var e=document.getElementById("header__time-id");function t(){var t=new Date,n=t.getHours(),a=t.getMinutes();a<10&&(a="0"+a),n<10&&(n="0"+n),e.textContent=n+":"+a}setInterval(t,1e4),t()}function login(){var e=document.getElementById("header__link--user-id"),t=document.getElementById("login-id"),n=document.getElementById("header__circle-id"),a=document.getElementById("header__icon--user-id"),s=document.getElementById("login__content-id"),c=document.getElementById("login__end-id");e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("show")}),window.addEventListener("click",function(m){var l=m.target;l!==t&&l!==e&&l!==n&&l!==a&&l!==s&&l!==c&&t.classList.remove("show")})}function dropdown(){var e=document.getElementsByClassName("dropdown"),t=document.getElementsByClassName("dropdown__list");for(let t=0;t<e.length;t++)e[t].addEventListener("click",n);function n(e){var n,a=e.target,s=(n=a.classList.contains("dropdown__icon")?a.parentElement.parentElement:a.parentElement).getElementsByClassName("dropdown__list")[0],c=n.getElementsByClassName("dropdown__icon")[0];if(!a.classList.contains("dropdown__link")){e.preventDefault();for(let e=0;e<t.length;e++)t[e]!==s&&t[e].classList.remove("show");s.classList.toggle("show"),c.classList.contains("fa-angle-down")?(c.classList.remove("fa-angle-down"),c.classList.add("fa-angle-up")):c.classList.contains("fa-angle-up")&&(c.classList.remove("fa-angle-up"),c.classList.add("fa-angle-down"))}}window.addEventListener("click",function(n){var a,s=n.target,c=[];a=s.classList.contains("dropdown__icon")?s:s.getElementsByClassName("dropdown__icon")[0];for(let t=0;t<e.length;t++)c[t]=e[t].getElementsByClassName("dropdown__icon")[0];for(let e=0;e<c.length;e++)c[e]!==a&&(c[e].classList.remove("fa-angle-up"),c[e].classList.add("fa-angle-down"));if(!s.classList.contains("dropdown__link")&&!s.classList.contains("dropdown__arrow")&&!s.classList.contains("dropdown__icon"))for(let e=0;e<t.length;e++)t[e].classList.remove("show")})}function navigation(){var e=document.getElementById("hamburger__link-id"),t=document.getElementById("navigation-id"),n=document.getElementById("navigation__close-link-id");e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("show")}),n.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("show")}),window.addEventListener("click",function(n){var a=n.target;!t.classList.contains("show")||a===t||a===e||a.classList.contains("hamburger__icon")||a.classList.contains("navigation__close")||a.classList.contains("dropdown__arrow")||a.classList.contains("navigation__link")||a.classList.contains("dropdown__link")||a.classList.contains("dropdown__icon")||t.classList.remove("show")})}function subscribe(){var e=document.getElementById("subscribe__email-id"),t=document.getElementById("subscribe-id"),n=document.createElement("p"),a="subscribe__message--error",s=document.createElement("p"),c=document.getElementById("login__name-id").textContent;n.classList.add("subscribe__message",a),n.textContent="Please enter valid email address",s.classList.add("subscribe__message","subscribe__message--good"),s.textContent=c+", you subscribed successfully.",t.noValidate=!0,t.addEventListener("submit",function(c){c.preventDefault();let m=e.value;m.match(/^\s*[a-zA-Z]+\w*(\.[a-zA-Z]+\w*){0,1}@[a-zA-Z]+\w*\.[a-z]{2,4}\s*$/)?(t.after(s),t.remove()):(e.classList.add("subscribe__email--error"),e.nextElementSibling.classList.contains(a)||e.after(n))})}function weather(){var e=document.getElementById("weather-id"),t=e.getElementsByClassName("weather__button"),n=t[0],a=t[1],s="weather__button--active",c=n.classList.contains(s),m=n.classList.contains(s);function l(e){e.preventDefault();var t=e.target;t.classList.contains(s)||(t.classList.add(s),t===n?(a.classList.remove(s),c=!0,m=!1):t===a&&(n.classList.remove(s),m=!0,c=!1),function(){var e,t,n=r(o.selectedOptions[0].textContent),a=d.getElementsByClassName("weather__data")[0];a&&(e=a.getElementsByClassName("weather__degree")[0],t=a.getElementsByClassName("weather__cf")[0]);if(n&&a){var s=p((new Date).getHours()),l=n.interval[s];c?(e.textContent=l.degree.celsius,t.innerHTML="&deg;C"):m&&(e.textContent=l.degree.fahrenheit,t.innerHTML="&deg;F")}}())}n.addEventListener("click",l),a.addEventListener("click",l);var o=document.getElementById("weather__select-id");o.addEventListener("change",function(e){var t=r(e.target.selectedOptions[0].textContent);if(t){let e=d.getElementsByClassName("weather__location")[0],n=d.getElementsByClassName("weather__message")[0];e&&e.remove(),n&&n.remove();let a=d.getElementsByClassName("weather__data")[0];a||(d.append(_),a=_),function(e,t){var n=t.getElementsByClassName("weather__image")[0],a=t.getElementsByClassName("weather__degree")[0],s=t.getElementsByClassName("weather__cf")[0],l=t.getElementsByClassName("weather__paragraph")[0],o=t.getElementsByClassName("weather__paragraph")[1],d=t.getElementsByClassName("weather__paragraph")[2],r=l.getElementsByClassName("weather__number")[0],_=o.getElementsByClassName("weather__number")[0],u=d.getElementsByClassName("weather__number")[0],g=p((new Date).getHours()),E=e.interval[g];n.src=E.image,n.alt=E.image_info,c?(a.textContent=E.degree.celsius,s.innerHTML="&deg;C"):m&&(a.textContent=E.degree.fahrenheit,s.innerHTML="&deg;F");r.textContent=E.precipitation,_.textContent=E.humidity,u.textContent=E.wind,i.textContent=e.location}(t,a)}});var d=e.getElementsByClassName("weather__info")[0],i=e.getElementsByClassName("weather__place")[0];function r(e){var t;for(let n=0;n<responseObject.weathers.length;n++)if(responseObject.weathers[n].location===e){t=responseObject.weathers[n];break}return t}function p(e){var t;return e>=0&&e<=3?t=0:e>=4&&e<=7?t=4:e>=8&&e<=11?t=8:e>=12&&e<=15?t=12:e>=16&&e<=19?t=16:e>=20&&e<=23&&(t=20),t}var _=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("img"),s=document.createElement("span"),c=document.createElement("span");e.classList.add("weather__data"),t.classList.add("weather__picture"),n.classList.add("weather__cf-degree"),a.classList.add("weather__image"),a.width=50,a.height=50,s.classList.add("weather__degree"),c.classList.add("weather__cf"),e.append(t),t.append(n),n.append(a),n.append(s),n.append(c);var m=document.createElement("div"),l=document.createElement("p"),o=document.createElement("p"),d=document.createElement("p"),i=document.createElement("span"),r=document.createElement("span"),p=document.createElement("span");return m.classList.add("weather__numbers"),l.classList.add("weather__paragraph"),o.classList.add("weather__paragraph"),d.classList.add("weather__paragraph"),i.classList.add("weather__number"),r.classList.add("weather__number"),p.classList.add("weather__number"),m.append(l),m.append(o),m.append(d),l.append(document.createTextNode("Precipitation: ")),l.append(i),o.append(document.createTextNode("Humidity: ")),o.append(r),d.append(document.createTextNode("Wind: ")),d.append(p),e.append(m),e}()}function comments(){var e=document.getElementById("comment__input-id"),t=document.getElementById("comment__controls-id");e.addEventListener("focus",function(e){t.classList.add("show")});var n=document.getElementById("comment__submit-id"),a=document.getElementById("comment__cancel-id"),s=document.getElementById("badge__wrapper--comments-id");a.addEventListener("click",function(n){n.preventDefault(),t.classList.remove("show"),e.value="",s.firstElementChild!==e&&(e.remove(),t.remove(),s.prepend(e),e.after(t));e.classList.contains(c)&&(e.classList.remove(c),m.remove())}),n.addEventListener("click",function(n){n.preventDefault();var a=e.value;if(a.match(/^\s*$/))e.classList.contains(c)||(e.classList.add(c),e.after(m));else{e.classList.remove(c),m.remove(),e.value="";let n=function(e){var t=responseObject.login,n=document.createElement("div"),a=document.createElement("div"),s=document.createElement("a"),c=document.createElement("img"),m=document.createElement("div"),l=document.createElement("p"),o=document.createElement("a"),d=document.createElement("p"),i=document.createElement("p"),r=document.createElement("a"),u=document.createElement("span"),E=document.createElement("a"),L=document.createElement("span"),f=document.createElement("div"),h=document.createElement("a"),v=document.createElement("i"),k=document.createElement("span"),w=document.createElement("span"),y=document.createElement("span"),b=document.createElement("span");n.id="comment-"+commentID++,n.classList.add("comment__box"),a.classList.add("comment__left"),s.classList.add("comment__link"),s.href=t.link,c.classList.add("comment__image"),c.alt=t.picture_info,c.src=t.picture,c.width=70,c.height=70,m.classList.add("comment__info"),l.classList.add("comment__header"),o.classList.add("comment__link","comment__user"),o.href=t.link,o.textContent=t.name,d.classList.add("comment__text"),d.textContent=e,i.classList.add("comment__footer"),r.classList.add("comment__link","comment__link--small","comment__reply-link"),r.href=t.link,r.textContent="Reply",u.classList.add("comment__dot"),u.innerHTML="&bull;",E.classList.add("comment__link","comment__link--small","comment__like-link"),E.href=t.link,E.textContent="Like",L.classList.add("comment__dot"),L.innerHTML="&bull;",f.classList.add("comment__person-wrapper"),h.classList.add("comment__link","comment__link--small","comment__person-link"),h.classList.add("comment__person-link--empty-list"),h.href=t.link,v.classList.add("far","fa-thumbs-up","comment__like"),k.classList.add("comment__count"),k.textContent="0",w.classList.add("comment__liked"),w.textContent=" liked this",y.classList.add("comment__dot"),y.innerHTML="&bull;",b.classList.add("comment__date");var C=new Date,x=C.toLocaleDateString(),B=C.getHours(),N=C.getMinutes();B<10&&(B="0"+B);N<10&&(N="0"+N);var I=x.split("/"),T=I[0],O=I[1],j=I[2];T<10&&(T="0"+T);O<10&&(O="0"+O);return b.textContent=T+"-"+O+"-"+j+" "+B+":"+N,n.append(a),a.append(s),s.append(c),n.append(m),m.append(l),l.append(o),l.append(document.createTextNode(" wrote...")),m.append(d),m.append(i),i.append(r),i.append(document.createTextNode("\n")),i.append(u),i.append(document.createTextNode("\n")),i.append(E),i.append(document.createTextNode("\n")),i.append(L),i.append(document.createTextNode("\n")),i.append(f),f.append(h),h.append(v),h.append(document.createTextNode("\n")),h.append(k),h.append(document.createTextNode(" person ")),i.append(w),i.append(document.createTextNode("\n")),i.append(y),i.append(document.createTextNode("\n")),i.append(b),r.addEventListener("click",p),E.addEventListener("click",_),h.addEventListener("click",g),n}(a);!function(n){t.after(n),t.classList.remove("show"),s.firstElementChild!==e&&(n.classList.add("comment__box--reply"),e.remove(),t.remove(),s.prepend(e),e.after(t))}(n),function(e){var t={},n=e.getElementsByClassName("comment__image")[0],a=e.getElementsByClassName("comment__link")[0],s=e.getElementsByClassName("comment__user")[0],c=e.getElementsByClassName("comment__text")[0],m=e.getElementsByClassName("comment__count")[0],d=e.getElementsByClassName("comment__date")[0];if(t.picture=n.src,t.picture_info=n.alt,t.link=a.href,t.user=s.textContent,t.comment=c.textContent,t.likeList={},t.likeList.numberOfLikes=m.textContent,t.likeList.persons=[],t.date=d.textContent,t.reply=[],t.id=e.id,e.classList.contains("comment__box--reply")){let e=o.id;!function(e,t){var n=responseObject.comments;for(let a=0;a<n.length;a++){if(n[a].id===e){n[a].reply.push(t);break}let s=n[a].reply;l(s,e,t)}}(e,t)}else responseObject.comments.push(t)}(n)}});var c="comment__input--error",m=document.createElement("p");function l(e,t,n){for(let a=0;a<e.length;a++){if(e[a].id===t){e[a].reply.push(n);break}l(e[a].reply,t,n)}}m.classList.add("comment__message","comment__message--error"),m.textContent="Empty comments cannot be posted!";var o,d=document.getElementsByClassName("comment__reply-link"),i=document.getElementsByClassName("comment__like-link"),r=document.getElementsByClassName("comment__person-link");for(let e=0;e<d.length;e++)d[e].addEventListener("click",p);for(let e=0;e<i.length;e++)i[e].addEventListener("click",_);for(let e=0;e<r.length;e++)r[e].addEventListener("click",g);function p(n){n.preventDefault();var a=n.target;o=a.parentElement.parentElement.parentElement;var s=e.nextElementSibling;e.remove(),t.remove(),e.value="",s&&s.classList.contains("comment__message")&&s.remove(),e.classList.contains("comment__input--error")&&e.classList.remove("comment__input--error"),t.classList.contains("show")||t.classList.add("show"),a.parentElement.parentElement.parentElement.after(e),e.after(t)}function _(e){e.preventDefault();var t=e.target.parentElement.parentElement.parentElement,n=t.getElementsByClassName("comment__count")[0],a=t.getElementsByClassName("comment__like-link")[0],s=u(t.id).likeList,c=s.persons,m=!1,l=responseObject.login.name,o=responseObject.login.link;for(let e=0;e<c.length;e++)if(c[e].name===l){m=!0;break}var d="comment__person-link--empty-list",i=t.getElementsByClassName(d)[0];i&&i.classList.remove(d),m||(s.numberOfLikes++,n.textContent=s.numberOfLikes,c.push({name:l,link:o}),a.classList.add("comment__like-link--already-liked"))}function u(e){return function e(t,n){for(let a=0;a<n.length;a++){if(n[a].id===t)return n[a];let s=n[a].reply,c=e(t,s);if(c)return c}}(e,responseObject.comments)}function g(e){e.preventDefault();var t,n,a,s=e.target;s.classList.contains("comment__person-link")?(a=s.parentElement.parentElement.parentElement.parentElement,t=s.parentElement):(a=s.parentElement.parentElement.parentElement.parentElement.parentElement,t=s.parentElement.parentElement),n=t.getElementsByClassName("comment__person-list")[0];let c=document.getElementById("badge__wrapper--comments-id").getElementsByClassName("comment__person-list");if(pageListsNumber=c.length,pageListsNumber)for(let e=0;e<pageListsNumber;e++)c[0].remove();var m,l=u(a.id);if(l&&!t.getElementsByClassName("comment__person-list")[0]&&!n){m=l.likeList.persons;let e=document.createElement("div");e.classList.add("comment__person-list"),m.forEach(function(t,n,a){let s=document.createElement("a");s.classList.add("comment__person-name"),s.textContent=t.name,s.href=t.link,e.append(s)}),m.length&&t.append(e)}}window.addEventListener("click",function(e){var t=e.target,n=document.getElementById("badge__wrapper--comments-id");if(!(t.classList.contains("comment__person-link")||t.classList.contains("comment__person-list")||t.classList.contains("comment__like")||t.classList.contains("comment__count")||t.classList.contains('class="comment__person-name'))){let e=n.getElementsByClassName("comment__person-list");if(listNum=e.length,listNum)for(let t=0;t<listNum;t++)e[0].remove()}})}!function(){var e,t=new XMLHttpRequest;function n(e){var t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("a"),s=document.createElement("img"),c=document.createElement("div"),m=document.createElement("p"),l=document.createElement("a"),o=document.createElement("p"),d=document.createElement("div"),i=document.createElement("a"),r=document.createElement("span"),p=document.createElement("a"),_=document.createElement("span"),u=document.createElement("div"),g=document.createElement("a"),E=document.createElement("i"),L=document.createElement("span"),f=document.createElement("span"),h=document.createElement("span"),v=document.createElement("span");return t.id="comment-"+commentID++,e.id=t.id,t.classList.add("comment__box"),n.classList.add("comment__left"),a.classList.add("comment__link"),a.href=e.link,s.classList.add("comment__image"),s.src=e.picture,s.alt=e.picture_info,s.width=70,s.height=70,c.classList.add("comment__info"),m.classList.add("comment__header"),l.classList.add("comment__link","comment__user"),l.href=e.link,l.textContent=e.user,o.classList.add("comment__text"),o.textContent=e.comment,d.classList.add("comment__footer"),i.classList.add("comment__link","comment__link--small","comment__reply-link"),i.href=e.link,i.textContent="Reply",r.classList.add("comment__dot"),r.innerHTML="&bull;",p.classList.add("comment__link","comment__link--small","comment__like-link"),p.href=e.link,p.textContent="Like",_.classList.add("comment__dot"),_.innerHTML="&bull;",u.classList.add("comment__person-wrapper"),g.classList.add("comment__link","comment__link--small","comment__person-link"),g.href=e.link,0==e.likeList.numberOfLikes&&g.classList.add("comment__person-link--empty-list"),E.classList.add("far","fa-thumbs-up","comment__like"),L.classList.add("comment__count"),L.textContent=e.likeList.numberOfLikes,f.classList.add("comment__liked"),f.textContent="liked this",h.classList.add("comment__dot"),h.innerHTML="&bull;",v.classList.add("comment__date"),v.textContent=e.date,t.append(n),n.append(a),a.append(s),t.append(c),c.append(m),m.append(l),m.append(" wrote..."),c.append(o),c.append(d),d.append(i),d.append(document.createTextNode("\n")),d.append(r),d.append(document.createTextNode("\n")),d.append(p),d.append(document.createTextNode("\n")),d.append(_),d.append(document.createTextNode("\n")),d.append(u),u.append(g),g.append(E),g.append(document.createTextNode("\n")),g.append(L),g.append(document.createTextNode("\n")),g.append(" person"),d.append(document.createTextNode("\n")),d.append(f),d.append(document.createTextNode("\n")),d.append(h),d.append(document.createTextNode("\n")),d.append(v),t}t.open("GET","../js/data/data.json"),t.send(),t.addEventListener("load",function(t){console.log("Page data is loaded with success: ",t),e=t.target.response,responseObject=JSON.parse(e),a=document.getElementById("login__name-id"),s=a.parentElement,c=document.getElementById("login__image-id"),m=c.parentElement,a.textContent=responseObject.login.name,s.href=responseObject.login.link,c.src=responseObject.login.picture,c.alt=responseObject.login.picture_info,m.href=responseObject.login.link,function(){var e=document.getElementById("home__cards-id"),t=e.children.length;for(let n=0;n<t;n++)e.children[0].remove();responseObject.cards.forEach(function(t){let n=document.createElement("a"),a=document.createElement("img"),s=document.createElement("p");n.append(a),n.append(s),n.classList.add("card"),a.alt=t.picture_info,a.width=55,a.height=55,a.classList.add("card__image"),s.classList.add("card__info"),s.textContent=t.info,n.href=t.link,a.src=t.picture,e.append(n)})}(),function(){var e,t=document.getElementById("weather__select-id"),n=t.length;for(let e=1;e<n;e++)t.children[1].remove();responseObject.weathers.forEach(function(n){let a=document.createElement("option");a.classList.add("weather__option"),a.textContent=n.location,e=(e=(e=n.location.replace(/\s+/g,"-")).replace(/,/g,"")).toLowerCase(),a.value="weather-"+e,t.append(a)})}(),function(){var e=document.getElementById("badge__wrapper--articles-id"),t=e.children.length;for(let n=0;n<t;n++)e.children[0].remove();responseObject.articles.forEach(function(t,n){let a=document.createElement("div"),s=document.createElement("div"),c=document.createElement("a"),m=document.createElement("img"),l=document.createElement("div"),o=document.createElement("a"),d=document.createElement("h4"),i=document.createElement("p"),r=document.createElement("a");a.classList.add("article"),n!==responseObject.articles.length-1&&a.classList.add("article--margin"),s.classList.add("article__left"),c.classList.add("article__link"),c.href=t.link,m.classList.add("article__image"),m.src=t.picture,m.alt=t.picture_info,m.width=60,m.height=60,l.classList.add("article__info"),o.classList.add("article__link"),o.href=t.link,d.classList.add("article__heading"),d.textContent=t.name,i.classList.add("article__date"),i.textContent=t.date,r.classList.add("article__link","article__link--small"),r.href=t.link,r.textContent="Demo Processes",a.append(s),s.append(c),c.append(m),a.append(l),l.append(o),o.append(d),l.append(i),l.append(r),e.append(a)})}(),function(){var e=document.getElementById("badge__wrapper--comments-id"),t=e.getElementsByClassName("comment__box"),a=t.length;for(let e=0;e<a;e++)t[0].remove();responseObject.comments.forEach(function(t){let a=n(t);e.append(a),function e(t,a){t.reply.forEach(function(t){let s=n(t);s.classList.add("comment__box--reply"),a.append(s),e(t,a)})}(t,e)})}(),time(),login(),dropdown(),navigation(),subscribe(),weather(),comments();var a,s,c,m}),t.addEventListener("error",function(e){console.error("Page data is not loaded from server: ",e)})}();